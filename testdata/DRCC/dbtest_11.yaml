#用例基本信息
testinfo:
    case_suite: dbtest_11        #测试文件名
    descrpiton: 查询资产接口            #测试套件描述
    module_class: Test111         #测试套件名称

#前置条件，case之前需关联的接口
premise:

#前置条件setup
set_up:

#后置条件
tear_down:

# 测试用例
test_case:
    - test_name: test_get_asset_group   #测试用例名称
      info: 全量查询资产   #allure story描述
      mark: smoking                    #用例执行等级
      method: GET
      url: /api/v1/assets/db
      headers:
        Authorization: $token
      timeout: 8
      params:
        type: name
        value:
        page: 1
        per_page: 10
      data:
      files:
      json:
      status:
      extract:
      expects:
          http_code: 200
          body.code: 100000
          body.message: 成功
          body.result[0]: ${join_sql_result("select db.id,db.cmdb_id,db.name as db_name,db.db_type,db.instance,db.status as db_status,db.deleted,db.dbversion,h.os_type as os_type,ip,h.status as host_status from db,host as h  where db.id = h.id and h.ip ='192.168.239.120'")|tools.dbopration}

